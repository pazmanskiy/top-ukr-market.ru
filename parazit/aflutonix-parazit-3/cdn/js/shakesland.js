!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){'undefined'!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:'Module'}),Object.defineProperty(e,'__esModule',{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&'object'==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,'default',{enumerable:!0,value:e}),2&t&&'string'!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,'a',t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([,function(e,t,n){"use strict";var o=r(n(2)),i=r(n(3));function r(e){return e&&e.__esModule?e:{default:e}}window.Helpers=new o.default;var a=function(e){var t=document.location.pathname.replace(new RegExp(/\/$/),"");return{default:{cookieCheck:'http://%dynamicDomain%/index.php?r=api/cookie&jsoncallback=lShakes.setCookieDomain&site='+lShakes.config.location+'&tid='+window.tid,orderSubmit:'http://'+lShakes.config.cookie_domain+'/index.php?r=api/request/index',emailSubmit:'http://'+lShakes.config.cookie_domain+'/index.php?r=api/email',orderRedirect:'/success.%langCode%.html?ver=1&request_id=%requestID%&tid='+window.tid+'&orderType='+window.Helpers.urlGET('orderType'),apiScripts:'http://'+lShakes.config.cookie_domain+'/index.php?r=api/js&site='+lShakes.config.location+'&tid='+window.tid,returnerCheck:'http://'+lShakes.config.cookie_domain+'/comebackerSettings?site='+lShakes.config.location+'&tid='+window.tid,jsLogging:'/api/jsLog'},parking:{tid:'/api/track'+document.location.search+(''===document.location.search?'?':'&')+'code='+document.location.pathname.split('/')[1],orderSubmit:'/api/request?',emailSubmit:'/api/email?',orderRedirect:t+'/success.%langCode%.html?request_id=%requestID%&tid='+window.tid+'&orderType='+window.Helpers.urlGET('orderType')+(window.Helpers.urlGET('ver')?'&ver='+window.Helpers.urlGET('ver'):'1'),apiScripts:'/api/js?referer='+document.location.hostname+t+'&tid='+window.tid,returnerCheck:'/api/comebackerSettings?referer='+document.location.hostname+t+'&tid='+window.tid,jsLogging:'/api/jsLog'}}[lShakes.domainType][e]||!1};window.getTid=function(){var e=new RegExp('"[\\\\?\\\\&]tid\\\\=(\\\\d+)').exec(location.search);return null===e?'':'&tid='+e[1]};var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isDevMode='#devmode'===window.location.hash,this.helpers=new o.default,this.scripts=new i.default({requests:a}),this.domainType=t.domainType,this.config={},this.state={},this.isBlockerHere=void 0,this.trans={},document.addEventListener('DOMContentLoaded',this.init.bind(this,t))}return e.prototype.init=function(e){this.config=o.default.extend({cookie_times:[],cookie_statuses:[],location:document.location.hostname+document.location.pathname},e),this.state.cookieDomainsCheckedCount=0,'parking'===this.domainType?this.parkingInitialize():this.defaultInitialize()},e.prototype.initEvents=function(){var e=this,t=document.querySelectorAll('.order_form'),n=document.querySelectorAll('.mail_form'),o=!0,i=!1,r=void 0;try{for(var a,c=t[Symbol.iterator]();!(o=(a=c.next()).done);o=!0){a.value.onsubmit=function(t){return e.submitOrderForm(t)}}}catch(e){i=!0,r=e}finally{try{!o&&c.return&&c.return()}finally{if(i)throw r}}var s=!0,d=!1,u=void 0;try{for(var l,f=n[Symbol.iterator]();!(s=(l=f.next()).done);s=!0){l.value.onsubmit=function(t){return e.submitEmailForm(t)}}}catch(e){d=!0,u=e}finally{try{!s&&f.return&&f.return()}finally{if(d)throw u}}},e.prototype.defaultInitialize=function(){window.tid=this.helpers.urlGET('tid'),this.checkDevMode(),this.checkTest(),this.initEvents(),this.checkBlocker(),this.sendCookies()},e.prototype.parkingInitialize=function(){this.checkBlocker(),window.tid=this.helpers.urlGET('tid'),window.tid?(this.initEvents(),this.scripts.initialize()):this.getTid()},e.prototype.checkBlocker=function(){var e=this;this.scripts.initBlockChecker({onError:function(){e.sendLog({action:'AdBlock checking',message:'AdBlock is on or script wasn\'t found',actionUrl:e.scripts.paths.adsCheck})}})},e.prototype.getTid=function(){var e=this;o.default.JSONP(a('tid'),{onLoad:function(){e.initEvents(),e.scripts.initialize()},onError:function(){e.sendLog({action:'Get TID',message:'Script loading was failed',actionUrl:a('tid')})}})},e.prototype.sendLog=function(e,t){e=o.default.extend({date:new Date,action:'no action',message:'no message',actionUrl:'-unspecified-',domain:location.hostname,page:location.pathname,URLparams:location.search,URLhash:location.hash,pageUrl:location.href},e),this.helpers.xhrPOST({url:a('jsLogging'),data:o.default.objectToGet({data:JSON.stringify(e)}),callback:function(e,n){'function'==typeof t&&t(e,n)}})},e.prototype.submitOrderForm=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.event;t.preventDefault();var n=t.currentTarget;if(!this.checkAnyForm(n))return!1;var i=o.default.extend(o.default.serialize(n),{tid:window.tid,orderType:this.helpers.urlGET('orderType'),location:this.config.location,site:this.config.location,jsoncallback:'lShakes.orderConfirm'});return i=this.checkFormDataArray(i),o.default.JSONP(a('orderSubmit')+o.default.objectToGet(i),{onError:function(){return e.sendLog({action:'Order submit',message:'Request error',actionUrl:a('orderSubmit')+o.default.objectToGet(i)})}}),!1},e.prototype.submitEmailForm=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.event;t.preventDefault();var n=t.currentTarget,i=n.querySelector('input[type="submit"]');if(!this.checkAnyForm(n))return!1;var r=o.default.extend(o.default.serialize(n),{site:this.config.location,tid:window.tid});return r=this.checkFormDataArray(r),o.default.JSONP(a('emailSubmit')+o.default.objectToGet(r),{onLoad:function(){return n.innerHTML=e.trans.emailSuccess?e.trans.emailSuccess:i.dataset.success},onError:function(){return e.sendLog({action:'Email submit',message:'Request error',actionUrl:a('emailSubmit')+o.default.objectToGet(r)})}}),!1},e.prototype.checkAnyForm=function(e){var t=!0,n=!1,o=void 0;try{for(var i,r=e[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){var a=i.value;switch(a.getAttribute('name')){case'phone':if(a.value<8)return alert(this.trans.phoneError),!1;break;case'name':if(a.value<3)return alert(this.trans.nameError),!1;break;case'email':if(!/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i.test(a.value))return alert(this.trans.emailError),!1}}}catch(e){n=!0,o=e}finally{try{!t&&r.return&&r.return()}finally{if(n)throw o}}return!0},e.prototype.checkFormDataArray=function(e){return void 0!==e.null&&delete e.null,e},e.prototype.sendCookies=function(){var e=this,t=function(t){var n=e.config.cookie_domains[t];if("string"==typeof n){var i=a('cookieCheck').replace('%dynamicDomain%',n);o.default.JSONP(i,{onError:function(t,o){e.setCookieDomain({domain:n,status:!1,time:0}),e.sendLog({action:'Cookies check: domain '+n,message:'Request error',actionUrl:o})}})}};for(var n in this.config.cookie_domains)t(n)},e.prototype.setCookieDomain=function(e){var t=0,n=this.config;!0===e.status&&void 0!==e.time&&(t=e.time);var o=n.cookie_domains.indexOf(e.domain);if(-1!==o&&(n.cookie_times[o]=parseInt(t),n.cookie_statuses[o]=e.status),n.cookie_domains.length<=++this.state.cookieDomainsCheckedCount){var i=!0,r=!1,a=void 0;try{for(var c,s=n.cookie_times[Symbol.iterator]();!(i=(c=s.next()).done);i=!0){var d=c.value;void 0===d&&(d=0)}}catch(e){r=!0,a=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw a}}var u=Math.max.apply(Math,n.cookie_times);if(u){var l=n.cookie_times.indexOf(u);~l&&(n.cookie_domain=n.cookie_domains[l])}else{var f=n.cookie_statuses.indexOf(!0);~f&&(n.cookie_domain=n.cookie_domains[f])}this.scripts.initialize()}},e.prototype.orderConfirm=function(e){var t=lCountries.nginxCountryCode||lCountries.defaultCountry,n=t!==lCountries.nginxCountryCode?'':t+'.';''!==this.config.orderRedirect&&(this.config.orderRedirect=a('orderRedirect').replace('%requestID%',e.request_id).replace('%langCode%.',n),this.isDevMode&&(this.config.orderRedirect+='#devmode'),document.location.href=this.config.orderRedirect)},e.prototype.checkDevMode=function(){this.isDevMode&&(this.config.cookie_domain="test.shakesin.com",this.config.cookie_domains=["test.shakesin.com"])},e.prototype.checkTest=function(e){if('#testshakes'===window.location.hash){var t=document.createElement('script');t.setAttribute('src',this.scripts.paths.testScript),document.body.appendChild(t)}},e}();'1'===o.default.getCookie('parking')?window.lShakes=new c({domainType:'parking'}):window.lShakes=new c({domainType:'default',cookie_domain:"shakpotoke.com",cookie_domains:["shakpotoke.com","shakeshakepotok.com","sekahspotok.com","shakepotok.com","r.shakesstream.com","shakesstream.com","newgoodsshake.com","goodsshake.com","shakesspot.com"],comeBacker:{status:!0}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.extend=function(e,t){var n={};for(var o in e)e.hasOwnProperty(o)&&(n[o]=e[o]);for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n},e.prototype.urlGET=function(e){return null===(e=new RegExp('[?&]'+encodeURIComponent(e)+'=([^&]*)').exec(location.search))?'':decodeURIComponent(e[1])},e.serialize=function(e){var t={},n=!0,o=!1,i=void 0;try{for(var r,a=e[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var c=r.value;t[c.getAttribute('name')]=c.value}}catch(e){o=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(o)throw i}}return t},e.objectToGet=function(e){var t='';for(var n in e)t+='&'+n+'='+encodeURIComponent(e[n]);return t},e.JSONP=function(e,t){var n=document.createElement('script');n.async=!0,n.setAttribute('src',e),n.onload=function(n){t&&'function'==typeof t.onLoad&&t.onLoad(n,e)},n.onerror=function(n){t&&'function'==typeof t.onError&&t.onError(n,e)},document.body.appendChild(n)},e.prototype.xhrCreate=function(){var e=void 0;try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{e=new ActiveXObject("Microsoft.XMLHTTP")}catch(t){e=!1}}return e||'undefined'==typeof XMLHttpRequest||(e=new XMLHttpRequest),e},e.prototype.xhrPOST=function(t){var n=this.xhrCreate();t=e.extend({ecntype:'application/x-www-form-urlencoded',async:!0},t),n.open("POST",t.url,t.async),n.setRequestHeader('Content-type',t.ecntype),n.onreadystatechange=function(){4==n.readyState&&'function'==typeof t.callback&&t.callback(n.response,n.status,n)},n.send(t.data)},e.getCookie=function(e){var t="(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,'\\$1')+"=([^;]*)",n=document.cookie.match(new RegExp(t));return n?decodeURIComponent(n[1]):void 0},e.prototype.domReady=function(e){if(document.addEventListener)document.addEventListener('DOMContentLoaded',e);else var t=setInterval(function(){"complete"===document.readyState&&(clearInterval(t),e())},5)},e.prototype.qs=function(e){return document.querySelectorAll(e)},e.prototype.on=function(e,t,n,o){e.addEventListener?e.addEventListener(t,function(e){n.call(o,e)},!1):e.attachEvent&&e.attachEvent('on'+t,function(e){n.call(o,e)})},e.prototype.each=function(e,t){for(var n=0;n<e.length;n++)t(e[n],n)},e.prototype.indexOf=function(e,t){for(var n=t||0;n<this.length;n++)if(this[n]==e)return n;return-1},e.prototype.bi=function(e){return document.getElementById(e)},e.prototype.bt=function(e){return document.getElementsByTagName(e)},e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(2),r=(o=i)&&o.__esModule?o:{default:o};var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.paths={adsCheck:'/cdn/js/ads_check.js',landingFeatures:'/cdn/js/landingfeatures.js',returner:'/cdn/js/comebacker.js',testScript:'/cdn/js/test_shakes.js'},this.requests=t.requests}return e.prototype.initBlockChecker=function(e){r.default.JSONP(this.paths.adsCheck,e)},e.prototype.initialize=function(){var e=this,t=document.createElement('script');t.setAttribute("type","text/javascript"),t.setAttribute("src",this.requests('apiScripts')),t.onload=function(){if(window.location.pathname.search('/success')>-1||'returner'===window.self.name)return!1;if(e.initReturner(),window.self!==window.top)return!1;var t=document.createEvent('Event');'undefined'!=typeof GeoInfo&&'undefined'!=typeof lCountries&&(lCountries.nginxCountryCode=GeoInfo.countryCode.toLowerCase(),lCountries.setActiveCountrySelect(),t.initEvent('countryset',!0,!1),window.dispatchEvent(t)),e.initLandingFeatures()},document.body.appendChild(t)},e.prototype.initReturner=function(){var e=this;window.pageType&&'layer'===window.pageType&&r.default.JSONP(this.requests('returnerCheck'),{onLoad:function(){window.CB&&(window.CB.beforeRender=e.handleRedirectLinks(window.CB.landingUrl),window.CB.iframeSrc=window.CB.landingUrl+'?tid='+window.tid+window.location.hash,r.default.JSONP(e.paths.returner,{onLoad:function(){e.returner=new ComeBacker(window.CB)},onError:function(){lShakes.sendLog.call(e,{action:'Returner (CB) loading',message:'Script wasn\'t loaded',actionUrl:e.paths.returner})}}))},onError:function(){lShakes.sendLog.call(e,{action:'Returner (CB) data check',message:'Data for script wasn\'t loaded',actionUrl:e.requests('returnerCheck')})}})},e.prototype.handleRedirectLinks=function(e){var t=document.querySelectorAll('a'),n=!0,o=!1,i=void 0;try{for(var r,a=t[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var c=r.value;c.style.cursor='pointer',c.setAttribute('href',e),c.setAttribute('target','_blank'),c.onclick=function(t){return t.preventDefault(),window.onbeforeunload=function(){},window.showCase&&window.showCase.isActive&&(window.location='//shakesnews.com/?tid='+window.tid),window.open(e+window.location.search,'_blank'),!1}}}catch(e){o=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(o)throw i}}},e.prototype.initLandingFeatures=function(){if(window.landingFeatures){var e=this;r.default.JSONP(this.paths.landingFeatures,{onLoad:function(){e.LandingFeatures=new LandingFeatures(window.landingFeatures)},onError:function(){e.sendLog({action:'LandingFeatures loading',message:'Script wasn\'t loaded',actionUrl:e.paths.landingFeatures})}})}},e}();t.default=a}]);